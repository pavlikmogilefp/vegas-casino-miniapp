<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Vegas Casino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #2a003f, #120018, #050008);
  color: #fff;
  font-family: Arial, sans-serif;
}

.top {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
  background:#0b0715;
}

.balance {
  background:rgba(176,38,255,.2);
  padding:6px 14px;
  border-radius:14px;
  font-weight:bold;
}

.games {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
  padding:14px;
}

.game {
  background:rgba(35,18,70,.6);
  border-radius:18px;
  padding:20px;
  text-align:center;
  cursor:pointer;
}

#slots {
  max-width:360px;
  margin:20px auto;
  background:#120018;
  border-radius:20px;
  padding:20px;
  text-align:center;
}

#reels {
  display:flex;
  justify-content:center;
  gap:10px;
  margin:12px 0;
}

.reel {
  width:90px;
  height:90px;
  background:#1a0033;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
}

button {
  background:linear-gradient(135deg,#b026ff,#7b2cff);
  border:none;
  border-radius:14px;
  padding:10px 20px;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="homeScreen">
  <div class="top">
    <div id="username">Player</div>
    <div class="balance" id="mainBalance"></div>
  </div>

  <div class="games">
    <div class="game" id="openSlots">üé∞ Slots</div>
  </div>
</div>

<div id="slotsScreen" style="display:none;">
  <button id="backHome">‚Üê –ù–∞–∑–∞–¥</button>

  <div id="slots">
    <h2>üé∞ –°–ª–æ—Ç—ã</h2>
    <div id="slotBalance"></div>

    <div id="reels">
      <div class="reel">üçí</div>
      <div class="reel">üçí</div>
      <div class="reel">üçí</div>
    </div>

    <div>
      –°—Ç–∞–≤–∫–∞:
      <input id="betInput" type="number" value="20" min="1" style="width:80px;text-align:center;"> ‚ÇΩ
    </div>

    <button id="spinSlot">–ö—Ä—É—Ç–∏—Ç—å</button>
    <div id="slotResult"></div>
  </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();

const CURRENCY = "‚ÇΩ";
let balance = 1000;

// —ç–ª–µ–º–µ–Ω—Ç—ã
const mainBalance = document.getElementById("mainBalance");
const slotBalance = document.getElementById("slotBalance");
const reels = document.querySelectorAll(".reel");
const resultEl = document.getElementById("slotResult");

// —ç–∫—Ä–∞–Ω—ã
openSlots.onclick = () => {
  homeScreen.style.display="none";
  slotsScreen.style.display="block";
};
backHome.onclick = () => {
  slotsScreen.style.display="none";
  homeScreen.style.display="block";
};

function updateBalanceUI() {
  mainBalance.textContent = `ü™ô ${balance} ${CURRENCY}`;
  slotBalance.textContent = `–ë–∞–ª–∞–Ω—Å: ${balance} ${CURRENCY}`;
}
updateBalanceUI();

// –ª–æ–≥–∏–∫–∞ —Å–ª–æ—Ç–æ–≤
const symbols = ["üçí","üçã","üçä","üçâ","‚≠ê","üíé"];

function getMultiplier(a,b,c){
  if(a===b && b===c){
    return { "üçí":3,"üçã":3,"üçä":3,"üçâ":5,"‚≠ê":10,"üíé":25 }[a];
  }
  if(a===b || b===c || a===c){
    return { "üçí":1.5,"üçã":1.5,"üçä":1.5,"üçâ":2,"‚≠ê":4,"üíé":8 }[a===b?a:b===c?b:a];
  }
  return 0;
}

spinSlot.onclick = () => {
  const bet = +betInput.value;
  if(bet<=0 || bet>balance) return alert("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–∞–≤–∫–∞");

  balance -= bet;

  reels.forEach(r=>{
    r.textContent = symbols[Math.floor(Math.random()*symbols.length)];
  });

  const m = getMultiplier(
    reels[0].textContent,
    reels[1].textContent,
    reels[2].textContent
  );

  const win = Math.floor(bet*m);
  balance += win;

  resultEl.textContent = win
    ? `üéâ –í—ã–∏–≥—Ä—ã—à ${win} ${CURRENCY} (x${m})`
    : "üò¢ –ë–µ–∑ –≤—ã–∏–≥—Ä—ã—à–∞";

  updateBalanceUI();
};
</script>

</body>
</html>